/* This file is the descriptor for the python runnable create-dynamic-datasets */
{
    "meta": {
        // label: name of the runnable as displayed, should be short
        "label": "Create multiple dynamic datasets",

        // description: longer string to help end users understand what this runnable does
        "description": "This plugin will create multiple datasets dynamically in the flow",

        // icon: must be one of the FontAwesome 5.15.4 icons, complete list here at https://fontawesome.com/v5/docs/
        "icon": "fas fa-puzzle-piece"
    },

    /* whether the runnable's code is untrusted */
    // You need to configure whether this macro will run with UNIX identity of the user running DSS, or with the identity of the final user.
    // Note that this is only relevant for the users of your plugin if User Isolation Framework is enabled, but since your plugin might be used in both cases, you still need to take care of this.
    // Generally speaking, we recommend that your macros run with "impersonate" : true. 
    // This means that they may not access the filesystem outside of their working directory and should only use DSS APIs for their operations.
    "impersonate": true,


    /* params:
    DSS will generate a formular from this list of requested parameters.
    Your component code can then access the value provided by users using the "name" field of each parameter.

    Available parameter types include:
    STRING, INT, DOUBLE, BOOLEAN, DATE, SELECT, TEXTAREA, DATASET, DATASET_COLUMN, MANAGED_FOLDER, PRESET and others.

    For the full list and for more details, see the documentation: https://doc.dataiku.com/dss/latest/plugins/reference/params.html
    */
    "params": [
        {
            "name": "num_datasets",
            "label": "Number of datasets to be created",
            "type": "INT",
            "description": "You can create more than one datasets. Default is 1. ",
            "defaultValue": 1,
            "mandatory": true
        },
        {
            "name": "seed",
            "label": "Seed",
            "type": "INT",
            "defaultValue": 42,
            "description": "This is the seed for random data generator. Default is 42. "
            /* Note that standard json parsing will return it as a double in Python (instead of an int), so you need to write
               int(self.config()['parameter2'])
            */
        }
    ],

    /* list of required permissions on the project to see/run the runnable */
    "permissions": [],

    /* what the code's run() returns:
       - NONE : no result
       - HTML : a string that is a html (utf8 encoded)
       - FOLDER_FILE : a (folderId, path) pair to a file in a folder of this project (json-encoded)
       - FILE : raw data (as a python string) that will be stored in a temp file by DSS
       - URL : a url
     */
    "resultType": "RESULT_TABLE"
}
